<!-- app/src/main/resources/templates/doctor/doctorDashboard.html -->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Doctor Dashboard</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" th:href="@{/assets/images/logo/logo.png}" />

  <!-- Stylesheets (shared + doctor-specific) -->
  <link rel="stylesheet" th:href="@{/assets/css/adminDashboard.css}" />
  <link rel="stylesheet" th:href="@{/assets/css/doctorDashboard.css}" />
  <link rel="stylesheet" th:href="@{/assets/css/style.css}" />

  <!-- Utility + common rendering (defer to avoid blocking) -->
  <script th:src="@{/js/render.js}" defer></script>
  <script th:src="@{/js/util.js}" defer></script>

  <!-- Layout components (header/footer injection) -->
  <script th:src="@{/js/components/header.js}" defer></script>
  <script th:src="@{/js/components/footer.js}" defer></script>

  <!-- Component for rendering patient rows (as ES module if it exports helpers) -->
  <script type="module" th:src="@{/js/components/patientRows.js}" defer></script>
</head>
<body>
  <noscript>Please enable JavaScript to use the Doctor Dashboard.</noscript>

  <div class="container">
    <div class="wrapper">
      <!-- Dynamic header injected by header.js -->
      <div id="header"></div>

      <!-- Main content -->
      <main class="main-content" aria-labelledby="page-title">
        <h2 id="page-title">Doctor Dashboard</h2>

        <!-- Controls: Search + Filters -->
        <section class="controls" aria-label="Search and filters">
          <!-- Search bar -->
          <div class="search-bar">
            <input
              type="text"
              id="searchBar"
              class="searchBar"
              placeholder="Search patients by name, email, or phone"
              aria-label="Search patients"
            />
          </div>

          <!-- Filter section -->
          <div class="filters">
            <button id="todayButton" class="button btn-today" type="button" aria-label="Show today's appointments">
              Todayâ€™s Appointments
            </button>

            <label for="datePicker" class="sr-only">Select date</label>
            <input
              type="date"
              id="datePicker"
              aria-label="Select appointment date"
            />
          </div>
        </section>

        <!-- Patient records table -->
        <section class="content" aria-label="Patient records">
          <div class="table-wrapper" style="width:min(1200px,95vw); margin:0 auto;">
            <table id="patientTable" class="patient-table" role="table" aria-describedby="table-caption">
              <caption id="table-caption" class="sr-only">Patient appointments and prescriptions</caption>
              <thead>
                <tr>
                  <th scope="col">Patient ID</th>
                  <th scope="col">Name</th>
                  <th scope="col">Phone</th>
                  <th scope="col">Email</th>
                  <th scope="col">Prescription</th>
                </tr>
              </thead>
              <tbody id="patientTableBody">
                <!-- Rows injected dynamically by patientRows.js / doctorDashboard.js -->
              </tbody>
            </table>
          </div>
        </section>
      </main>

      <!-- Dynamic footer injected by footer.js -->
      <div id="footer"></div>
    </div>
  </div>

  <!-- Services & page logic (modules) -->
  <script type="module" th:src="@{/js/services/patientServices.js}" defer></script>
  <script type="module" th:src="@{/js/services/doctorDashboard.js}" defer></script>
</body>
</html>
